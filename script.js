document.addEventListener('DOMContentLoaded',function(){const t=document.querySelector('.language-switcher'),e=document.getElementById('lang-toggle');if(t){const o=localStorage.getItem('language')||'en';document.documentElement.setAttribute('lang',o),document.querySelectorAll('.language-switcher a').forEach(c=>{c.getAttribute('data-lang')===o&&c.classList.add('active')}),n(o),document.querySelectorAll('.language-switcher a').forEach(c=>{c.addEventListener('click',function(l){l.preventDefault();const r=this.getAttribute('data-lang');localStorage.setItem('language',r),document.documentElement.setAttribute('lang',r),document.querySelectorAll('.language-switcher a').forEach(a=>{a.classList.remove('active')}),this.classList.add('active'),n(r)})})}if(e){const o=localStorage.getItem('language')||'en';document.documentElement.setAttribute('lang',o),e.textContent=o==='en'?'FR':'EN',e.setAttribute('data-lang',o),n(o),e.addEventListener('click',function(){const c=this.getAttribute('data-lang'),l=c==='en'?'fr':'en';this.textContent=l==='en'?'FR':'EN',this.setAttribute('data-lang',l),document.documentElement.setAttribute('lang',l),localStorage.setItem('language',l),n(l)})}function n(o){document.querySelectorAll('[data-lang-en], [data-lang-fr]').forEach(c=>{c.getAttribute(`data-lang-${o}`)?c.style.display='block':c.style.display='none'}),document.querySelectorAll('[id^="content-"]').forEach(c=>{c.id===`content-${o}`?c.style.display='block':c.style.display='none'})}const o=document.querySelector('.navbar-toggle'),c=document.querySelector('.navbar');o&&o.addEventListener('click',function(){c.classList.toggle('active')}),document.querySelectorAll('a[href^="#"]').forEach(l=>{l.addEventListener('click',function(r){r.preventDefault();const i=this.getAttribute('href');if(i==='#')return;const s=document.querySelector(i);s&&(window.scrollTo({top:s.offsetTop-80,behavior:'smooth'}),c.classList.remove('active'))})});const l=window.location.pathname.split('/').pop(),r=document.querySelectorAll('.navbar a');r.forEach(i=>{const s=i.getAttribute('href');(s===l||l===''&&s==='index.html'||l==='index.html'&&s==='index.html')&&i.classList.add('active')});const i=document.querySelector('.contact-form');i&&i.addEventListener('submit',function(s){s.preventDefault();let a=!0;const d=i.querySelectorAll('[required]');d.forEach(u=>{u.value.trim()?u.classList.remove('error'):(a=!1,u.classList.add('error'))});const h=i.querySelector('input[type="email"]');if(h&&h.value){const u=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;u.test(h.value)||(a=!1,h.classList.add('error'))}a?(alert('Thank you for your message. We will get back to you soon!'),i.reset()):alert('Please fill in all required fields correctly.')});const s=document.querySelectorAll('.animate');function a(){const d=window.innerHeight;s.forEach(h=>{const u=h.getBoundingClientRect().top;u<d-100&&h.classList.add('animate-visible')})}a();let d;window.addEventListener('scroll',function(){d&&window.cancelAnimationFrame(d),d=window.requestAnimationFrame(function(){a()})});const h=document.querySelector('.header');let u=0;window.addEventListener('scroll',function(){const m=window.pageYOffset||document.documentElement.scrollTop;m>50?h.classList.add('scrolled'):h.classList.remove('scrolled'),u=m});const f=document.querySelector('.back-to-top');f&&(window.addEventListener('scroll',function(){window.pageYOffset>300?f.classList.add('visible'):f.classList.remove('visible')}),f.addEventListener('click',function(m){m.preventDefault(),window.scrollTo({top:0,behavior:'smooth'})}));const g=document.querySelector('.testimonial-slider');if(g){const m=g.querySelectorAll('.testimonial'),v=g.querySelector('.slider-prev'),p=g.querySelector('.slider-next');let y=0;function k(S){m.forEach((L,w)=>{w===S?L.classList.add('active'):L.classList.remove('active')})}k(y),p&&p.addEventListener('click',function(){y=(y+1)%m.length,k(y)}),v&&v.addEventListener('click',function(){y=(y-1+m.length)%m.length,k(y)}),setInterval(function(){y=(y+1)%m.length,k(y)},5e3)}const b=document.querySelectorAll('.faq-item');b.length>0&&b.forEach(m=>{const v=m.querySelector('.faq-question'),p=m.querySelector('.faq-answer');v.addEventListener('click',function(){const y=m.classList.contains('active');b.forEach(k=>{k!==m&&k.classList.contains('active')&&(k.classList.remove('active'),k.querySelector('.faq-answer').style.maxHeight='0')}),y?(m.classList.remove('active'),p.style.maxHeight='0'):(m.classList.add('active'),p.style.maxHeight=p.scrollHeight+'px')})})});